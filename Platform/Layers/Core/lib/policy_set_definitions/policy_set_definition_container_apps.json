{
    "name": "itau-container-apps",
    "type": "Microsoft.Authorization/policySetDefinitions",
    "apiVersion": "2021-06-01",
    "scope": null,
    "properties": {
      "policyType": "Custom",
      "displayName": "Container Apps Initiative",
      "description": "Contains the additional container apps policies applicable to the org",
      "metadata": {
        "version": "1.0.0",
        "category": "Container Apps"
      },
      "parameters": {},
      "policyDefinitions": [
        {
            "policyDefinitionReferenceId": "Authentication should be enabled on Container Apps",
            "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/2b585559-a78e-4cc4-b1aa-fb169d2f6b96",
            "parameters": {}
        },
        {
            "policyDefinitionReferenceId": "Container App environments should use network injection",
            "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/8b346db6-85af-419b-8557-92cee2c0f9bb",
            "parameters": {}
        },
        {
            "policyDefinitionReferenceId": "Container App should configure with volume mount",
            "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/7c9f3fbb-739d-4844-8e42-97e3be6450e0",
            "parameters": {}
        },
        {
            "policyDefinitionReferenceId": "Container Apps environment should disable public network access",
            "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/d074ddf8-01a5-4b5e-a2b8-964aed452c0a",
            "parameters": {}
        },
        {
            "policyDefinitionReferenceId": "Container Apps should disable external network access",
            "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/783ea2a8-b8fd-46be-896a-9ae79643a0b1",
            "parameters": {}
        },
        {
          "policyDefinitionReferenceId": "Container Apps should only be accessible over HTTPS",
          "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/0e80e269-43a4-4ae9-b5bc-178126b8a5cb",
          "parameters": {}
        },
        {
            "policyDefinitionReferenceId": "Managed Identity should be enabled for Container Apps",
            "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/b874ab2d-72dd-47f1-8cb5-4a306478a4e7",
            "parameters": {}
        }
      ],
      "policyDefinitionGroups": null
    }
}